<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>测试呢</title>
    <script src="../vendors/vue/vue.min.js"></script>
    <style>
        .add-todo {
            font-size: 32px;
        }
        .add-todo:hover {
            cursor: pointer;
        }
    </style>
</head>

<body>
    <!-- <div id="tableOne">12345678</div>
    <button id="copyBtn" >点我复制</button>
    <script>
        let copyBtn = document.getElementById('copyBtn')
        copyBtn.onclick = copy
        //copyBtn.addEventListener('click',copy)

        function copy(e) {
            console.log('复制')
            console.log(e)
            let copyText = document.getElementById('tableOne').innerText
            let oInput = document.createElement('textarea')
            oInput.value = copyText
            document.body.appendChild(oInput)
            oInput.select()
            document.execCommand('Copy')
            oInput.className = 'oInput'
            oInput.style.display = 'none'
            alert('复制成功')
        }
    </script> -->


    <div id="app">
        <ul class="todoList">
            <li v-for="(item,index) in todoList">
                <span>数组下标：{{index}}</span>
                <span>id: {{item.id}}</span>
                <span>标题: {{item.title}}</span>
                <span>内容: {{item.message}}</span>
            </li>
            <div class="add-todo" @click="addTodo">+</div>
        </ul>
       <div class="parent" @click="showData">点我
       </div>
       <base-checkbox v-model="lovingVue"></base-checkbox>
       <base-input v-model="testData.value"  v-bind="testData" ></base-input>
    </div>
    <script>
        Vue.component('base-checkbox', {
            model: {
                prop: 'checked',
                event: 'change',
            },
            props: {
                checked: Boolean
            },
            template: `
            <input type="checkbox" v-bind:checked="checked" v-on:change="$emit('change',$event.target.checked)">
            `
        })
        Vue.component('base-input',{
            inheritAttrs: false,
            props: ['label','value'],
            computed: {
                inputListeners: function() {
                    var vm = this
                    return Object.assign(
                        {},
                        // 从父级添加所有的监听器
                        this.$listeners,
                        // 然后添加自定义的监听器或者覆盖重写一些监听器的行为
                        {
                            input: function(event) {
                                vm.$emit('input',event.target.value)
                            }
                        }
                    )
                }
            },
            template: `
            <label>
                {{label}}
                <input v-bind="$attrs" v-bind:value="value" v-on="inputListeners">
            </label>
            `
        })
        Vue.component('todo-document',{
            props: {
                id: Number,
                title: String,
                message: String
            },
            data() {
                return {
                    showNewTodoEdit: false
                }
            },
            template: `
            <template>
            
            </template>
            `
        })
        var vm = new Vue({
            el: '#app',
            beforeCreate() {},
            created() {},
            beforeMount() {},
            mounted() {
                console.log(this.lovingVue)
            },
            beforeUpdate() {},
            updated() {},
            beforeDestroy() {},
            destroyed() {},
            activated() {},
            errorCaptured() {},
            data: {
                lovingVue: false,
                inputData: 'Vue.js is good!',
                testData: {
                    label: '我是一个Vue组件',
                    value: '外界传给组件的值'
                },
                todoList:[
                    {
                        id: 1,
                        title: '任务1',
                        message: '学习HTML'
                    },
                    {
                        id: 2,
                        title: '任务2',
                        message: '学习CSS'
                    },
                    {
                        id: 3,
                        title: '任务3',
                        message: '学习JS'
                    }
                ],
                newTodo: {
                    id: '',
                    title: '假装标题',
                    message: '假装内容',
                }
            },
            methods: {
                showData() {
                    console.log(this.lovingVue)
                    console.log(this.testData.value)
                    console.log(this.newTodo)
                },
                addTodo() {
                    console.log('addTodo')
                }
            }
        })
    </script>
</body>

</html>